<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>관리자페이지(회원목록)</title>
	<link href="../css/layout.css" rel="stylesheet">
</head>

<!-- function 스크립트 -->
<script defer src="../js/admin_library.js"></script>
<script>
	// 연체상태 popup창
	function overdue_popup() {
		window.open
			("admin_book_overdue.html", "팝업", "width=1000, height=700, left=100, top=100");
	}
	// 연체해제 누르면 확인 후 닫기
	function overdue_close() {
		alert("연체해제 되었습니다");
		window.close();
	}
	// todo 이벤트
	// 대출회원 추가버튼 가져오기
	window.addEventListener("load", function () {
		bind();
	});

	function bind() {
		let add = document.querySelector("#member_add");

		add.addEventListener('click', function () { // 대출회원 추가 클릭이벤트

			// 테이블을 todlist 에 담아둠
			let todolist = document.querySelector("#todo_membertable");

			let member_html = '';

			// html += '</tr>';
			// 추가한다
			member_html += '<td>10</td>';
			member_html += '<td><div class="member_name" onclick="member_list()">임우혁</div></td>';
			member_html += '<td>2001-05-24</td>';
			member_html += '<td>010-1234-5678</td>';
			member_html += '<td>청주</td>';
			member_html += '<td><div class="member_name" onclick="overdue_popup()">3일</div></td>';
			member_html += '<td><input type="button" value="조회" onclick=\'alert("예약목록 조회")\'></td>';
			member_html += '<td><input type="button" value="조회" onclick=\'alert("대출내역 조회")\'></td>';
			member_html += '<td><input type="button" value="수정" onclick="location.href=\'admin_member_chginfo.html\';"></td>';
			// html +=	'</tr>'

			let tr = document.createElement("tr"); // <tr></tr>
			tr.innerHTML = member_html;

			todolist.append(tr);
		})


		var inputTodo = document.getElementById("input_todo");
		if (inputTodo != null) {
			inputTodo.addEventListener("keydown", enterkey);
		}

		//검색옵션 기본세팅
		let search_opt_list = ["회원번호", "이름", "생년월일", "전화번호", "주소"];

		for (let i = 0; i < search_opt_list.length; i++) {
			let search_opt = document.querySelector("#search_option");
			let html = '';
			html += search_opt_list[i];

			let opt = document.createElement("option");//<option></option>
			opt.innerHTML = html;//<option>serach_opt_list[i]</option>

			search_opt.append(opt);
		}

	};

	// 10개씩 누를 때 change 이벤트 : 변동이 있을 때 발생
	function changeViewCount(count) {
		alert(count + "개씩 보기로 변경되었습니다.");
	}

	// 예약목록 조회 이벤트
	function reservation_check() {
		alert("예약내역조회");
	}

	// 대출내역 조회 이벤트
	function loan_check() {
		alert("대출내역조회");
	}


	// 검색기능
	function search() {
		var textbox = document.getElementById("input_todo");
		if (textbox != null) {
			alert(textbox.value + " ");
		}
	}

	// 엔터 이벤트
	function enterkey() {
		if (window.event.keyCode == 13) {
			// 엔터키가 눌렸을 때 실행하는 반응
			search();
		}
	}

	// 이름 클릭 시 
	function member_list() {
		alert("회원 정보")
	}

	// 검색 옵션과 검색 텍스트박스에 입력된 값을 처리하는 함수
	function handleSearchOption() {
		// 검색 옵션과 검색 텍스트박스의 DOM 요소 가져오기
		var searchOption = document.getElementById("search_option").value;
		var searchTextbox = document.getElementById("input_todo");

		// 선택된 옵션에 따라 다르게 동작
		switch (searchOption) {
			case "회원번호":
				alert("회원번호: " + searchTextbox.value);
				break;
			case "이름":
				alert("이름: " + searchTextbox.value);
				break;
			case "연체상태":
				alert("연체상태: " + searchTextbox.value);
				break;
			default:
				// 기타 옵션의 경우 아무 동작도 수행하지 않음
				break;
		}
	}
</script>


<style>
	header .nav .member_list {
		background-color: rgba(168, 156, 200, 0.6);
		color: #000000;
		height: 45px;
		line-height: 40px;
		display: inline-block;
		border-radius: 5px;
		width: 150px;
		font-size: 20px;
		margin-top: 10px;
	}

	/* 검색창 */
	.search {
		width: 80%;
		margin: auto;
		text-align: center;
		margin-bottom: 10px;
	}

	.search .range {
		width: 90px;
		height: 30px;
		font-family: "Wanted Sans Variable";
		font-size: 17px;
	}

	.search .textbox {
		width: 350px;
		height: 20px;
		padding: 2px;
		font-family: "Wanted Sans Variable";
		font-size: 17px;
	}

	.search .button {
		font-family: "Wanted Sans Variable";
		font-size: 18px;
		background-color: rgb(36, 116, 190);
		color: white;
		width: 50px;
		height: 27px;
		border: 0;
		border-radius: 5px;
		cursor: pointer;
	}


	/* 테이블 div */
	.table_div {
		width: 80%;
		margin: auto;
	}

	/* 테이블 */
	.member_table {
		width: 100%;
		border-collapse: collapse;
		font-family: "Wanted Sans Variable";
	}


	/* 테이블 td th */
	.member_table td,
	.member_table th {
		border: 1px solid #000000;
		background-color: #fff;
		text-align: center;
		height: 30px;
	}

	/* 테이블 th */
	.member_table th {
		height: 35px;
		background-color: rgba(163, 163, 163, 0.6);
	}

	/* 테이블 안에 input */
	.member_table tr td input {
		font-family: "Wanted Sans Variable";
		font-size: 16px;
		background-color: rgba(71, 125, 231, 0.973);
		color: white;
		width: 50px;
		height: 20px;
		border: 0;
		border-radius: 5px;
		cursor: pointer;
	}

	/* 쪽이동 */
	.nextpage {
		width: 80%;
		margin: auto;
		text-align: center;
		margin-top: 30px;
	}

	/* 쪽이동 a 태그*/
	.underline_remove {
		text-decoration: none;
		font-size: 20px;
		color: black;
	}

	.nextpage input {
		height: 30px;
	}

	/* 연체상태 td 글씨 */
	.table_div .member_table a {
		color: blue;
		font-weight: bold;
	}

	/* 출력 개수 */
	.search .view_count {
		font-family: "Wanted Sans Variable";
		font-size: 16px;
		height: 30px;
	}

	/* 이름 링크 */
	.member_name {
		color: blue;
		font-family: bold;
		text-decoration: underline;
		font-weight: bold;
		cursor: pointer;
	}

	/* 연체상태 링크 */
	.overdue_name {
		color: blue;
		font-family: bold;
		text-decoration: underline;
		font-weight: bold;
		cursor: pointer;
	}
</style>

<body>
	<!-- header-->
	<header></header>

	<!-- 검색창   -->
	<button type="button" id="member_add">대출 회원 추가</button>
	<div class="search">
		<!-- <select class="view_count" onchange="changeViewCount(this.value)"> -->
		<select class="view_count">
			<option value="10">10개씩</option>
			<option value="20">20개씩</option>
			<option value="30">30개씩</option>
		</select>

		<!-- <select class="range" id="search_option" onchange="handleSearchOption()"> -->
		<select class="range" id="search_option">
			<!-- 자바스크립트로 가져오기 -->
		</select>

		<input type="text" name="search" class="textbox" id="input_todo">
		<button type=button class="button" onclick="search()">검색</button>
	</div>

	<!-- table -->
	<div class="table_div">
		<table class="member_table" id="todo_membertable">
			<tr>
				<th width="100">회원번호</th>
				<th width="100">이름</th>
				<th width="100">생년월일</th>
				<th width="100">전화번호</th>
				<th width="100">주소</th>
				<th width="100">연체상태</th>
				<th width="100">예약목록</th>
				<th width="100">대출내역</th>
				<th width="100">정보수정</th>
			</tr>
			<tr>
				<td>10</td>
				<td>
					<div class="member_name" onclick="member_list()">임우혁</div>
				</td>
				<td>2001-05-24</td>
				<td>010-1234-5678</td>
				<td>청주</td>
				<td>
					<div class="overdue_name" onclick="overdue_popup()">3일</div>
				</td>
				<td><input type="button" value="조회" onclick="reservation_check()"></td>
				<td><input type="button" value="조회" onclick="loan_check()"></td>
				<td><input type="button" value="수정" onclick="location.href='admin_member_chginfo.html';"></td>
			</tr>


		</table>
	</div>

	<!-- 쪽이동 -->
	<div class="paging nextpage">
		<a href="" class="pre underline_remove">◀</a>
		<strong class="underline_remove">1</strong>
		<a href="" class="num underline_remove">2</a>
		<a href="" class="num underline_remove">3</a>
		<a href="" class="num underline_remove">4</a>
		<a href="" class="num underline_remove">5</a>
		<a href="" class="next underline_remove">▶</a>
	</div>


	<!-- 헤더를 덮어씌우는 자바스크립트 -->
	<script src="../js/header_admin.js"></script>
</body>

</html>